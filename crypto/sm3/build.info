LIBS=../../libcrypto
SOURCE[../../libcrypto]=sm3.c sm3_hmac.c {- $target{sm3_asm_src} -}
INCLUDE[sm3.o]=../modes

GENERATE[sm3-armv8.S]=asm/sm3-armv8.pl $(PERLASM_SCHEME)
INCLUDE[sm3-armv8.o]=..

BEGINRAW[Makefile(unix)]
##### SM3 assembler implementation

# GNU make "catch all"
{- $builddir -}/sm3-%.S:	{- $sourcedir -}/asm/sm3-%.pl
	CC="$(CC)" $(PERL) $< $(PERLASM_SCHEME) $@
ENDRAW[Makefile(unix)]
